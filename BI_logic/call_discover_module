2018-10-25 08:34:34,149 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s/ref=nb_sb_noss_1?url=search-alias%3Daps&field-keywords=add-on+items","project":"discoverModule","seed_id":"1","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccd686e2d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,154 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s?rh=n%3A3760911%2Ck%3Aadd-on+items&keywords=add-on+items","project":"discoverModule","seed_id":"2","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccd77692d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,158 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s?rh=n%3A3760901%2Ck%3Aadd-on+items&keywords=add-on+items","project":"discoverModule","seed_id":"3","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccd81c82d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,162 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s?rh=n%3A1069242%2Ck%3Aadd-on+items&keywords=add-on+items","project":"discoverModule","seed_id":"4","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccd8bf5cd83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,166 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s?rh=n%3A3375251%2Ck%3Aadd-on+items&keywords=add-on+items","project":"discoverModule","seed_id":"5","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccd965b0d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,170 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=add-on+items+prime","project":"discoverModule","seed_id":"6","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccda0ba0d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,175 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s/?fst=as%3Aoff&rh=n%3A5856181011%2Cn%3A3760901&page=1&bbn=5856181011&ie=UTF8&qid=1523862886","project":"discoverModule","seed_id":"7","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccdaadf8d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,179 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=subscribe+and+save","project":"discoverModule","seed_id":"8","spider":"amazon_add_on_items_spider"}, correspond result is {"status": "ok", "jobid": "ccdb4a9cd83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,183 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/gp/goldbox","project":"discoverModule","seed_id":"9","spider":"amazon_today_deals_spider"}, correspond result is {"status": "ok", "jobid": "ccdbe48ed83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,187 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Home-Kitchen/zgbs/home-garden/ref=zg_bs_nav_0","project":"discoverModule","seed_id":"10","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "ccdc7fd4d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,190 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Toys-Games/zgbs/toys-and-games","project":"discoverModule","seed_id":"11","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "ccdd184ad83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,195 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-books-Amazon/zgbs/books","project":"discoverModule","seed_id":"12","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "ccddb70ad83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,199 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Beauty/zgbs/beauty","project":"discoverModule","seed_id":"13","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "ccde4fc6d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,202 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Baby/zgbs/baby-products","project":"discoverModule","seed_id":"14","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "ccdee8fad83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,206 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Sports-Outdoors/zgbs/sporting-goods","project":"discoverModule","seed_id":"15","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "ccdf8288d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,210 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Garden-Outdoor/zgbs/lawn-garden","project":"discoverModule","seed_id":"16","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "cce01b62d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,214 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Health-Personal-Care/zgbs/hpc","project":"discoverModule","seed_id":"17","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "cce0a74ed83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,217 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.amazon.com/Best-Sellers-Arts-Crafts-Sewing/zgbs/arts-crafts","project":"discoverModule","seed_id":"18","spider":"amazon_best_sellers_spider"}, correspond result is {"status": "ok", "jobid": "cce133e4d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,221 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://camelcamelcamel.com/popular","spider_method":"parse_popular","project":"discoverModule","seed_id":"19","spider":"camel_spider"}, correspond result is {"status": "ok", "jobid": "cce1ba08d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,225 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://camelcamelcamel.com/top_drops","spider_method":"parse_top_drops","project":"discoverModule","seed_id":"20","spider":"camel_spider"}, correspond result is {"status": "ok", "jobid": "cce23fbed83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,229 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://slickdeals.net/forums/filtered/?f=9&sort=threadstarted&daysprune=2","spider_method":"parse_hot_deals","project":"discoverModule","seed_id":"21","spider":"slickdeals_spider"}, correspond result is {"status": "ok", "jobid": "cce2e1b2d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,232 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://slickdeals.net/deals","spider_method":"parse_popular_product","project":"discoverModule","seed_id":"22","spider":"slickdeals_spider"}, correspond result is {"status": "ok", "jobid": "cce37c30d83011e88ca10242ac110042", "node_name": "b9508f072025"}
2018-10-25 08:34:34,236 INFO [pool-5-thread-1] j.c.s.v.b.c.CronTaskServiceImpl [CronTaskServiceImpl.java : 320] Call discover module with param : {"seed_url":"https://www.dealmoon.com/","spider_method":"parse_index_page","project":"discoverModule","seed_id":"23","spider":"dealmoon_spider"}, correspond result is {"status": "ok", "jobid": "cce40ae2d83011e88ca10242ac110042", "node_name": "b9508f072025"}

Uync-zTwe-75


curl -X POST -H "Content-Type:application/json" -d '
{
    "promoLinkId":1,
    "productList":[1,2,3],
    "articleList":[4,5]
}' http://192.168.1.104:9099/api/v1/article/promoLink



select count(distinct(product_id)) from article_product where product_id in (select product_id from top_product_promo_info_vendor where (missed_time is null or (missed_time is not null and timestampdiff(HOUR,missed_time,now())<72)) and confirmed=1 and start_date <= now() and (end_date is null or end_date >= now()));